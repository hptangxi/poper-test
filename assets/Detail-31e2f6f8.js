import{d as m,r as l,o as f,a as k,b as c,c as i,e as x,f as o,u as g,t as b,g as _,h as B,i as N,F as T}from"./index-5217d053.js";const R=o("span",{class:"text-xl"},"â‡§",-1),S=[R],P=m({__name:"BackTop",setup(h){const a=l(!1),s=()=>{a.value=window.scrollY>200},n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return f(()=>{window.addEventListener("scroll",s)}),k(()=>{window.removeEventListener("scroll",s)}),(r,d)=>a.value?(c(),i("button",{key:0,class:"fixed bottom-5 right-5 text-white bg-sky-500/70 cursor-pointer w-12 h-12 rounded-[50%]",onClick:n},S)):x("",!0)}}),V={key:0,class:"h-full flex justify-center items-center"},$={key:1,class:"px-4 pt-4 pb-10 flex flex-col items-center"},C={class:"text-3xl text-sky-500 font-bold py-2"},E={class:"w-full h-0 pt-[56.25%] relative mt-5"},L=["poster"],D=["src"],F={class:"mt-3"},A=m({__name:"Detail",setup(h){const{title:a}=g().params,s=l({title:"",date:"",image:"",desc:""}),n=l(!0),r=l(null),d=l(null),v=()=>{var e;(e=d.value)==null||e.pause()},y=()=>{var e;(e=r.value)==null||e.pause()};return f(()=>{var u,p;const e=localStorage.getItem("curNews");let t=e?JSON.parse(e):{};t.title===a?s.value={...t,desc:(u=t.desc)==null?void 0:u.repeat(10)}:(t=b.find(w=>w.title===a),t&&(s.value={...t,desc:(p=t.desc)==null?void 0:p.repeat(10)})),n.value=!1}),(e,t)=>(c(),i(T,null,[n.value?(c(),i("div",V,"loading ...")):(c(),i("div",$,[o("h1",C,_(B(a)),1),o("div",E,[o("video",{class:"absolute top-0 left-0 w-full h-full bg-black",ref_key:"videoRef",ref:r,controls:"",playsinline:"","webkit-playsinline":"",preload:"metadata",poster:`./images/${s.value.image}`,onPlay:v},[o("source",{src:"./media/movie.mp4",type:"video/mp4"},null,8,D)],40,L)]),o("audio",{ref_key:"audioRef",ref:d,class:"mt-5",src:"./media/music.mp3",controls:"",onPlay:y},null,544),o("p",F,_(s.value.desc),1)])),N(P)],64))}});export{A as default};
