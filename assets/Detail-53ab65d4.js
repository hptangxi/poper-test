import{d as m,r as l,o as f,a as x,b as c,c as i,e as k,f as s,u as g,t as b,g as _,h as B,i as N,F as T}from"./index-7e47db91.js";const R=s("span",{class:"text-xl"},"â‡§",-1),S=[R],P=m({__name:"BackTop",setup(h){const a=l(!1),o=()=>{a.value=window.scrollY>200},n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return f(()=>{window.addEventListener("scroll",o)}),x(()=>{window.removeEventListener("scroll",o)}),(r,d)=>a.value?(c(),i("button",{key:0,class:"fixed bottom-5 right-5 text-white bg-sky-500/70 cursor-pointer w-12 h-12 rounded-[50%]",onClick:n},S)):k("",!0)}}),V={class:"max-w-[1100px] m-auto"},$={key:0,class:"h-full flex justify-center items-center"},C={key:1,class:"px-4 pt-4 pb-10 flex flex-col items-center"},E={class:"text-3xl text-sky-500 font-bold py-2"},L={class:"w-full h-0 pt-[56.25%] relative mt-5"},D=["poster"],F=["src"],j={class:"mt-3"},I=m({__name:"Detail",setup(h){const{title:a}=g().params,o=l({title:"",date:"",image:"",desc:""}),n=l(!0),r=l(null),d=l(null),v=()=>{var e;(e=d.value)==null||e.pause()},w=()=>{var e;(e=r.value)==null||e.pause()};return f(()=>{var u,p;const e=localStorage.getItem("curNews");let t=e?JSON.parse(e):{};t.title===a?o.value={...t,desc:(u=t.desc)==null?void 0:u.repeat(10)}:(t=b.find(y=>y.title===a),t&&(o.value={...t,desc:(p=t.desc)==null?void 0:p.repeat(10)})),n.value=!1}),(e,t)=>(c(),i(T,null,[s("div",V,[n.value?(c(),i("div",$,"loading ...")):(c(),i("div",C,[s("h1",E,_(B(a)),1),s("div",L,[s("video",{class:"absolute top-0 left-0 w-full h-full bg-black",ref_key:"videoRef",ref:r,controls:"",playsinline:"","webkit-playsinline":"",preload:"metadata",poster:`./images/${o.value.image}`,onPlay:v},[s("source",{src:"./media/movie.mp4",type:"video/mp4"},null,8,F)],40,D)]),s("audio",{ref_key:"audioRef",ref:d,class:"mt-5",src:"./media/music.mp3",controls:"",onPlay:w},null,544),s("p",j,_(o.value.desc),1)]))]),N(P)],64))}});export{I as default};
